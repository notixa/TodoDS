<Application x:Class="TodoDS.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:tb="http://www.hardcodet.net/taskbar"
             ShutdownMode="OnExplicitShutdown">
    <Application.Resources>
        <Color x:Key="ColorAccent">#FF3B82F6</Color>
        <Color x:Key="ColorAccentDark">#FF2C6BE5</Color>
        <Color x:Key="ColorSurface">#FFF6F7FA</Color>
        <Color x:Key="ColorCard">#FFFFFFFF</Color>
        <Color x:Key="ColorBorder">#FFE1E6EE</Color>
        <Color x:Key="ColorText">#FF1F2937</Color>
        <Color x:Key="ColorMuted">#FF6B7280</Color>

        <SolidColorBrush x:Key="BrushAccent" Color="{StaticResource ColorAccent}" />
        <SolidColorBrush x:Key="BrushAccentDark" Color="{StaticResource ColorAccentDark}" />
        <SolidColorBrush x:Key="BrushSurface" Color="{StaticResource ColorSurface}" />
        <SolidColorBrush x:Key="BrushCard" Color="{StaticResource ColorCard}" />
        <SolidColorBrush x:Key="BrushBorder" Color="{StaticResource ColorBorder}" />
        <SolidColorBrush x:Key="BrushText" Color="{StaticResource ColorText}" />
        <SolidColorBrush x:Key="BrushMuted" Color="{StaticResource ColorMuted}" />

        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="{StaticResource BrushAccent}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushAccent}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="12,6" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource BrushAccentDark}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF1F5CD2" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="{StaticResource BrushCard}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
        </Style>

        <Style x:Key="GhostButton" TargetType="Button">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Background" Value="#FFEFF2F8" />
            <Setter Property="BorderBrush" Value="#FFD6DEEA" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFE3E9F2" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FFD6DEEA" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="GhostButtonDark" TargetType="Button">
            <Setter Property="Foreground" Value="#E7ECF6" />
            <Setter Property="Background" Value="#263041" />
            <Setter Property="BorderBrush" Value="#313C52" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2F3B4F" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1F2633" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FieldBox" TargetType="TextBox">
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8,6" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ScrollViewer Margin="0" x:Name="PART_ContentHost" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SoftCheck" TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource BrushText}" />
            <Setter Property="Margin" Value="0,6,0,0" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>

        <Style x:Key="CardBorder" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource BrushCard}" />
            <Setter Property="BorderBrush" Value="{StaticResource BrushBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="10" />
        </Style>

        <tb:TaskbarIcon x:Key="TrayIcon"
                        ToolTipText="TodoDS"
                        TrayLeftMouseUp="TrayIcon_OnTrayLeftMouseUp">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu Opened="TrayMenu_OnOpened">
                    <MenuItem Header="设置" Click="TrayMenu_OnSettingsClick" />
                    <Separator />
                    <MenuItem Header="开机自启动"
                              IsCheckable="True"
                              Tag="autostart"
                              Click="TrayMenu_OnAutostartClick" />
                    <MenuItem Header="显示置顶窗口"
                              IsCheckable="True"
                              Tag="pet-toggle"
                              Click="TrayMenu_OnPetClick" />
                    <Separator />
                    <MenuItem Header="退出" Click="TrayMenu_OnExitClick" />
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Application.Resources>
</Application>
