<Window x:Class="TodoDS.QuickViewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Topmost="True"
        AllowsTransparency="True"
        Background="Transparent"
        Width="320"
        Height="380"
        FontFamily="Segoe UI"
        Deactivated="Window_OnDeactivated">
    <Border Background="#141820" CornerRadius="16" Padding="14">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="18" ShadowDepth="6" Opacity="0.25" />
        </Border.Effect>
        <DockPanel LastChildFill="True">
            <DockPanel DockPanel.Dock="Top" Margin="0,0,0,10">
                <StackPanel DockPanel.Dock="Left">
                    <TextBlock Text="今日待办"
                               Foreground="#F7F8FA"
                               FontSize="15"
                               FontWeight="SemiBold" />
                    <TextBlock Text="快速预览"
                               Foreground="#8B93A7"
                               FontSize="11" />
                </StackPanel>
                <Button Content="设置"
                        Width="64"
                        Height="26"
                        Margin="8,0,0,0"
                        Style="{StaticResource GhostButtonDark}"
                        HorizontalAlignment="Right"
                        Click="SettingsButton_OnClick" />
            </DockPanel>

            <TextBlock x:Name="EmptyText"
                       Text="暂无待办"
                       Foreground="#9CA3AF"
                       Margin="2,8,0,0" />

            <ItemsControl x:Name="ItemsHost">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="#1E2430" CornerRadius="10" Padding="10" Margin="0,0,0,8">
                            <DockPanel>
                                <TextBlock Text="{Binding DueDisplay}"
                                           Width="78"
                                           FontSize="11"
                                           DockPanel.Dock="Left">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="#FFCC66" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding HasTime}" Value="False">
                                                    <Setter Property="Foreground" Value="#8B93A7" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock Text="{Binding Title}"
                                           Foreground="#F2F4F8"
                                           TextWrapping="Wrap" />
                            </DockPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </DockPanel>
    </Border>
</Window>
